const express = require('express');
const router = express.Router();

const shapeService = require('../services/shape.service')
const registrationService = require('../services/registration.service')

router.get('/pollingData', (req, res) => {
    let municipalityName = req.query.municipalityName;
    console.info("[REGISTRATION] getting polling centers data for " + municipalityName);
    res.json(
        {
            "_id": "5c46d5dc94706213cf5955a9",
            "data": [{
                "not_useful": "514",
                "f_p51": "605",
                "m_p51": "702",
                "f_36_50": "539",
                "m_36_50": "610",
                "f_25_35": "415",
                "m_25_35": "352",
                "f_22_24": "67",
                "m_22_24": "87",
                "f_18_21": "37",
                "m_18_21": "30",
                "sum": "3444",
                "polling": "المدرسة الإعدادية الحصري",
                "imeda": "القبلية الشمالية",
                "num_polling": "6",
                "number of registered": "3431",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.673627",
                "lon": "10.094798",
                "nida": "181",
                "irada": "73",
                "jabha": "60",
                "itihad_madani": "127",
                "pour_kairouan": "28",
                "akhyar_el_tayar": "8",
                "tayar": "96",
                "ihyee_kairouan": "57"
            }, {
                "not_useful": "123",
                "f_p51": "127",
                "m_p51": "182",
                "f_36_50": "148",
                "m_36_50": "124",
                "f_25_35": "153",
                "m_25_35": "121",
                "f_22_24": "34",
                "m_22_24": "27",
                "f_18_21": "14",
                "m_18_21": "23",
                "sum": "953",
                "polling": "م إبتدائية 14 جانفي ابن الجزار 2 - المنصورة الجنوبية",
                "imeda": "المنصورة الجنوبية",
                "num_polling": "2",
                "number of registered": "953",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.649026",
                "lon": "10.090803",
                "nida": "34",
                "irada": "7",
                "jabha": "20",
                "itihad_madani": "14",
                "pour_kairouan": "9",
                "akhyar_el_tayar": "12",
                "tayar": "27",
                "ihyee_kairouan": "16"
            }, {
                "not_useful": "341",
                "f_p51": "354",
                "m_p51": "494",
                "f_36_50": "468",
                "m_36_50": "376",
                "f_25_35": "414",
                "m_25_35": "322",
                "f_22_24": "90",
                "m_22_24": "95",
                "f_18_21": "68",
                "m_18_21": "51",
                "sum": "2732",
                "polling": "م إبتدائية 2مارس 34 القيروان - المنصورة الجنوبية",
                "imeda": "المنصورة الجنوبية",
                "num_polling": "5",
                "number of registered": "2739",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.652760",
                "lon": "10.086084",
                "nida": "128",
                "irada": "43",
                "jabha": "81",
                "itihad_madani": "62",
                "pour_kairouan": "31",
                "akhyar_el_tayar": "12",
                "tayar": "90",
                "ihyee_kairouan": "41"
            }, {
                "not_useful": "268",
                "f_p51": "387",
                "m_p51": "502",
                "f_36_50": "300",
                "m_36_50": "340",
                "f_25_35": "276",
                "m_25_35": "198",
                "f_22_24": "49",
                "m_22_24": "60",
                "f_18_21": "19",
                "m_18_21": "24",
                "sum": "2155",
                "polling": "م إبتدائية ابن الجزار الرحبة - الجبلية الشمالية",
                "imeda": "الجبلية الشمالية",
                "num_polling": "4",
                "number of registered": "2150",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.67970946",
                "lon": "10.09785433",
                "nida": "100",
                "irada": "44",
                "jabha": "19",
                "itihad_madani": "59",
                "pour_kairouan": "21",
                "akhyar_el_tayar": "2",
                "tayar": "53",
                "ihyee_kairouan": "34"
            }, {
                "not_useful": "286",
                "f_p51": "436",
                "m_p51": "581",
                "f_36_50": "426",
                "m_36_50": "434",
                "f_25_35": "431",
                "m_25_35": "370",
                "f_22_24": "100",
                "m_22_24": "78",
                "f_18_21": "47",
                "m_18_21": "41",
                "sum": "2944",
                "polling": "م إبتدائية ابن عرفة - الأغالبة",
                "imeda": "الأغالبة",
                "num_polling": "5",
                "number of registered": "2948",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.668965",
                "lon": "10.076611",
                "nida": "157",
                "irada": "44",
                "jabha": "47",
                "itihad_madani": "62",
                "pour_kairouan": "32",
                "akhyar_el_tayar": "15",
                "tayar": "74",
                "ihyee_kairouan": "55"
            }, {
                "not_useful": "31",
                "f_p51": "59",
                "m_p51": "92",
                "f_36_50": "72",
                "m_36_50": "94",
                "f_25_35": "50",
                "m_25_35": "68",
                "f_22_24": "8",
                "m_22_24": "17",
                "f_18_21": "14",
                "m_18_21": "7",
                "sum": "481",
                "polling": "م إبتدائية الإمام سحنون - زرود",
                "imeda": "زرود",
                "num_polling": "1",
                "number of registered": "480",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.674511",
                "lon": "10.117821",
                "nida": "15",
                "irada": "0",
                "jabha": "3",
                "itihad_madani": "2",
                "pour_kairouan": "2",
                "akhyar_el_tayar": "2",
                "tayar": "3",
                "ihyee_kairouan": "6"
            }, {
                "not_useful": "138",
                "f_p51": "226",
                "m_p51": "377",
                "f_36_50": "240",
                "m_36_50": "378",
                "f_25_35": "211",
                "m_25_35": "229",
                "f_22_24": "42",
                "m_22_24": "41",
                "f_18_21": "32",
                "m_18_21": "18",
                "sum": "1794",
                "polling": "م إبتدائية الباطن",
                "imeda": "الباطن",
                "num_polling": "3",
                "number of registered": "1790",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.71251142",
                "lon": "10.00096657",
                "nida": "57",
                "irada": "11",
                "jabha": "8",
                "itihad_madani": "9",
                "pour_kairouan": "8",
                "akhyar_el_tayar": "18",
                "tayar": "10",
                "ihyee_kairouan": "17"
            }, {
                "not_useful": "91",
                "f_p51": "344",
                "m_p51": "364",
                "f_36_50": "305",
                "m_36_50": "291",
                "f_25_35": "287",
                "m_25_35": "210",
                "f_22_24": "49",
                "m_22_24": "32",
                "f_18_21": "31",
                "m_18_21": "31",
                "sum": "1944",
                "polling": "م إبتدائية التبان 1",
                "imeda": "التبان",
                "num_polling": "4",
                "number of registered": "1940",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.661927",
                "lon": "10.110330",
                "nida": "122",
                "irada": "26",
                "jabha": "19",
                "itihad_madani": "12",
                "pour_kairouan": "18",
                "akhyar_el_tayar": "7",
                "tayar": "40",
                "ihyee_kairouan": "12"
            }, {
                "not_useful": "65",
                "f_p51": "108",
                "m_p51": "121",
                "f_36_50": "96",
                "m_36_50": "84",
                "f_25_35": "97",
                "m_25_35": "75",
                "f_22_24": "19",
                "m_22_24": "13",
                "f_18_21": "12",
                "m_18_21": "5",
                "sum": "630",
                "polling": "م إبتدائية التبان 2",
                "imeda": "التبان",
                "num_polling": "2",
                "number of registered": "630",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.658882",
                "lon": "10.108958",
                "nida": "26",
                "irada": "12",
                "jabha": "8",
                "itihad_madani": "8",
                "pour_kairouan": "4",
                "akhyar_el_tayar": "1",
                "tayar": "9",
                "ihyee_kairouan": "8"
            }, {
                "not_useful": "458",
                "f_p51": "572",
                "m_p51": "756",
                "f_36_50": "504",
                "m_36_50": "587",
                "f_25_35": "362",
                "m_25_35": "456",
                "f_22_24": "98",
                "m_22_24": "100",
                "f_18_21": "45",
                "m_18_21": "53",
                "sum": "3533",
                "polling": "م إبتدائية التطبيقية الأسوار - حي الجامع الجنوبي",
                "imeda": "الجامع الجنوبية",
                "num_polling": "6",
                "number of registered": "3529",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.6757783",
                "lon": "10.10466091",
                "nida": "180",
                "irada": "110",
                "jabha": "43",
                "itihad_madani": "130",
                "pour_kairouan": "28",
                "akhyar_el_tayar": "4",
                "tayar": "90",
                "ihyee_kairouan": "97"
            }, {
                "not_useful": "445",
                "f_p51": "734",
                "m_p51": "788",
                "f_36_50": "680",
                "m_36_50": "669",
                "f_25_35": "511",
                "m_25_35": "399",
                "f_22_24": "135",
                "m_22_24": "103",
                "f_18_21": "51",
                "m_18_21": "60",
                "sum": "4130",
                "polling": "م إبتدائية التطبيقيــة التربية - المنصورة الجنوبية",
                "imeda": "المنصورة الجنوبية",
                "num_polling": "7",
                "number of registered": "4118",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.667105",
                "lon": "10.100124",
                "nida": "264",
                "irada": "95",
                "jabha": "50",
                "itihad_madani": "87",
                "pour_kairouan": "31",
                "akhyar_el_tayar": "7",
                "tayar": "90",
                "ihyee_kairouan": "83"
            }, {
                "not_useful": "112",
                "f_p51": "162",
                "m_p51": "211",
                "f_36_50": "175",
                "m_36_50": "161",
                "f_25_35": "125",
                "m_25_35": "100",
                "f_22_24": "34",
                "m_22_24": "46",
                "f_18_21": "24",
                "m_18_21": "20",
                "sum": "1058",
                "polling": "م إبتدائية التطبيقية الطيب المهيري - القبلية الجنوبية",
                "imeda": "القبلية الجنوبية",
                "num_polling": "2",
                "number of registered": "1056",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.672809",
                "lon": "10.103807",
                "nida": "58",
                "irada": "25",
                "jabha": "21",
                "itihad_madani": "46",
                "pour_kairouan": "11",
                "akhyar_el_tayar": "0",
                "tayar": "33",
                "ihyee_kairouan": "23"
            }, {
                "not_useful": "464",
                "f_p51": "508",
                "m_p51": "710",
                "f_36_50": "510",
                "m_36_50": "673",
                "f_25_35": "409",
                "m_25_35": "433",
                "f_22_24": "82",
                "m_22_24": "92",
                "f_18_21": "51",
                "m_18_21": "55",
                "sum": "3523",
                "polling": "م إبتدائية التطبيقية طارق ابن زياد - القبلية الجنوبية",
                "imeda": "القبلية الجنوبية",
                "num_polling": "6",
                "number of registered": "3515",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.672415",
                "lon": "10.104584",
                "nida": "213",
                "irada": "124",
                "jabha": "54",
                "itihad_madani": "201",
                "pour_kairouan": "27",
                "akhyar_el_tayar": "18",
                "tayar": "95",
                "ihyee_kairouan": "115"
            }, {
                "not_useful": "10",
                "f_p51": "69",
                "m_p51": "161",
                "f_36_50": "68",
                "m_36_50": "165",
                "f_25_35": "51",
                "m_25_35": "100",
                "f_22_24": "14",
                "m_22_24": "27",
                "f_18_21": "15",
                "m_18_21": "11",
                "sum": "681",
                "polling": "م إبتدائية الحنباز - الخزازية",
                "imeda": "الخزازية",
                "num_polling": "2",
                "number of registered": "679",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.604569",
                "lon": "10.257939",
                "nida": "24",
                "irada": "4",
                "jabha": "59",
                "itihad_madani": "0",
                "pour_kairouan": "3",
                "akhyar_el_tayar": "6",
                "tayar": "3",
                "ihyee_kairouan": "10"
            }, {
                "not_useful": "9",
                "f_p51": "32",
                "m_p51": "35",
                "f_36_50": "42",
                "m_36_50": "61",
                "f_25_35": "35",
                "m_25_35": "34",
                "f_22_24": "5",
                "m_22_24": "7",
                "f_18_21": "2",
                "m_18_21": "3",
                "sum": "256",
                "polling": "م إبتدائية الشرقية - زرود",
                "imeda": "زرود",
                "num_polling": "1",
                "number of registered": "256",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.680903",
                "lon": "10.174943",
                "nida": "2",
                "irada": "4",
                "jabha": "0",
                "itihad_madani": "0",
                "pour_kairouan": "0",
                "akhyar_el_tayar": "0",
                "tayar": "0",
                "ihyee_kairouan": "2"
            }, {
                "not_useful": "270",
                "f_p51": "380",
                "m_p51": "498",
                "f_36_50": "328",
                "m_36_50": "256",
                "f_25_35": "440",
                "m_25_35": "352",
                "f_22_24": "99",
                "m_22_24": "87",
                "f_18_21": "39",
                "m_18_21": "35",
                "sum": "2514",
                "polling": "م إبتدائية الصحابي 2 - الجبلية الشمالية",
                "imeda": "الجبلية الشمالية",
                "num_polling": "5",
                "number of registered": "2515",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.68503314",
                "lon": "10.08459275",
                "nida": "111",
                "irada": "31",
                "jabha": "22",
                "itihad_madani": "65",
                "pour_kairouan": "39",
                "akhyar_el_tayar": "18",
                "tayar": "72",
                "ihyee_kairouan": "50"
            }, {
                "not_useful": "256",
                "f_p51": "234",
                "m_p51": "325",
                "f_36_50": "315",
                "m_36_50": "274",
                "f_25_35": "244",
                "m_25_35": "176",
                "f_22_24": "84",
                "m_22_24": "67",
                "f_18_21": "50",
                "m_18_21": "60",
                "sum": "1829",
                "polling": "م إبتدائية الصحابي4 - الجبلية الشمالية",
                "imeda": "الجبلية الشمالية",
                "num_polling": "4",
                "number of registered": "1834",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.692539",
                "lon": "10.093164",
                "nida": "81",
                "irada": "24",
                "jabha": "32",
                "itihad_madani": "42",
                "pour_kairouan": "25",
                "akhyar_el_tayar": "54",
                "tayar": "54",
                "ihyee_kairouan": "39"
            }, {
                "not_useful": "25",
                "f_p51": "117",
                "m_p51": "216",
                "f_36_50": "118",
                "m_36_50": "161",
                "f_25_35": "97",
                "m_25_35": "137",
                "f_22_24": "31",
                "m_22_24": "37",
                "f_18_21": "16",
                "m_18_21": "14",
                "sum": "944",
                "polling": "م إبتدائية الغابات",
                "imeda": "الغابات",
                "num_polling": "2",
                "number of registered": "943",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.73393429",
                "lon": "10.15317026",
                "nida": "21",
                "irada": "5",
                "jabha": "42",
                "itihad_madani": "1",
                "pour_kairouan": "10",
                "akhyar_el_tayar": "9",
                "tayar": "4",
                "ihyee_kairouan": "2"
            }, {
                "not_useful": "14",
                "f_p51": "21",
                "m_p51": "61",
                "f_36_50": "35",
                "m_36_50": "73",
                "f_25_35": "23",
                "m_25_35": "54",
                "f_22_24": "6",
                "m_22_24": "11",
                "f_18_21": "2",
                "m_18_21": "3",
                "sum": "289",
                "polling": "م إبتدائية القطرانية - الباطن",
                "imeda": "الباطن",
                "num_polling": "1",
                "number of registered": "288",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.75320619",
                "lon": "10.05618817",
                "nida": "13",
                "irada": "0",
                "jabha": "1",
                "itihad_madani": "10",
                "pour_kairouan": "2",
                "akhyar_el_tayar": "2",
                "tayar": "6",
                "ihyee_kairouan": "0"
            }, {
                "not_useful": "85",
                "f_p51": "127",
                "m_p51": "154",
                "f_36_50": "110",
                "m_36_50": "143",
                "f_25_35": "89",
                "m_25_35": "111",
                "f_22_24": "26",
                "m_22_24": "31",
                "f_18_21": "9",
                "m_18_21": "15",
                "sum": "815",
                "polling": "م إبتدائية المتبسطة",
                "imeda": "المتبسطة",
                "num_polling": "2",
                "number of registered": "811",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.79013092",
                "lon": "10.14463575",
                "nida": "13",
                "irada": "1",
                "jabha": "14",
                "itihad_madani": "4",
                "pour_kairouan": "2",
                "akhyar_el_tayar": "59",
                "tayar": "3",
                "ihyee_kairouan": "3"
            }, {
                "not_useful": "30",
                "f_p51": "16",
                "m_p51": "42",
                "f_36_50": "26",
                "m_36_50": "35",
                "f_25_35": "28",
                "m_25_35": "28",
                "f_22_24": "4",
                "m_22_24": "10",
                "f_18_21": "4",
                "m_18_21": "4",
                "sum": "197",
                "polling": "م إبتدائية المرازيق - الغابات",
                "imeda": "الغابات",
                "num_polling": "1",
                "number of registered": "196",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.696977",
                "lon": "10.19886001",
                "nida": "4",
                "irada": "24",
                "jabha": "0",
                "itihad_madani": "0",
                "pour_kairouan": "1",
                "akhyar_el_tayar": "0",
                "tayar": "0",
                "ihyee_kairouan": "1"
            }, {
                "not_useful": "191",
                "f_p51": "515",
                "m_p51": "646",
                "f_36_50": "457",
                "m_36_50": "475",
                "f_25_35": "531",
                "m_25_35": "370",
                "f_22_24": "82",
                "m_22_24": "83",
                "f_18_21": "71",
                "m_18_21": "39",
                "sum": "3269",
                "polling": "م إبتدائية المنشية 1",
                "imeda": "المنشية",
                "num_polling": "6",
                "number of registered": "3255",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.678594",
                "lon": "10.077511",
                "nida": "162",
                "irada": "28",
                "jabha": "23",
                "itihad_madani": "14",
                "pour_kairouan": "28",
                "akhyar_el_tayar": "21",
                "tayar": "31",
                "ihyee_kairouan": "39"
            }, {
                "not_useful": "87",
                "f_p51": "259",
                "m_p51": "279",
                "f_36_50": "272",
                "m_36_50": "240",
                "f_25_35": "245",
                "m_25_35": "194",
                "f_22_24": "60",
                "m_22_24": "37",
                "f_18_21": "51",
                "m_18_21": "20",
                "sum": "1657",
                "polling": "م إبتدائية المنشية 2",
                "imeda": "المنشية",
                "num_polling": "3",
                "number of registered": "1652",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.675224",
                "lon": "10.079805",
                "nida": "147",
                "irada": "24",
                "jabha": "17",
                "itihad_madani": "8",
                "pour_kairouan": "24",
                "akhyar_el_tayar": "8",
                "tayar": "12",
                "ihyee_kairouan": "18"
            }, {
                "not_useful": "548",
                "f_p51": "682",
                "m_p51": "825",
                "f_36_50": "647",
                "m_36_50": "721",
                "f_25_35": "620",
                "m_25_35": "500",
                "f_22_24": "131",
                "m_22_24": "82",
                "f_18_21": "62",
                "m_18_21": "47",
                "sum": "4317",
                "polling": "م إبتدائية المنصورة - المنصورة الشمالية",
                "imeda": "المنصورة الشمالية",
                "num_polling": "8",
                "number of registered": "4306",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.662235",
                "lon": "10.089071",
                "nida": "173",
                "irada": "97",
                "jabha": "52",
                "itihad_madani": "88",
                "pour_kairouan": "37",
                "akhyar_el_tayar": "19",
                "tayar": "145",
                "ihyee_kairouan": "77"
            }, {
                "not_useful": "281",
                "f_p51": "324",
                "m_p51": "421",
                "f_36_50": "336",
                "m_36_50": "376",
                "f_25_35": "348",
                "m_25_35": "318",
                "f_22_24": "56",
                "m_22_24": "69",
                "f_18_21": "43",
                "m_18_21": "22",
                "sum": "2313",
                "polling": "م إبتدائية أبو زمعة البلوي - الجبلية الشمالية",
                "imeda": "الجبلية الشمالية",
                "num_polling": "4",
                "number of registered": "2316",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.68283625",
                "lon": "10.08210917",
                "nida": "86",
                "irada": "25",
                "jabha": "22",
                "itihad_madani": "27",
                "pour_kairouan": "36",
                "akhyar_el_tayar": "13",
                "tayar": "53",
                "ihyee_kairouan": "20"
            }, {
                "not_useful": "3",
                "f_p51": "19",
                "m_p51": "32",
                "f_36_50": "33",
                "m_36_50": "43",
                "f_25_35": "25",
                "m_25_35": "37",
                "f_22_24": "5",
                "m_22_24": "6",
                "f_18_21": "2",
                "m_18_21": "5",
                "sum": "207",
                "polling": "م إبتدائية أولاد حمودة - الغابات",
                "imeda": "الغابات",
                "num_polling": "1",
                "number of registered": "208",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.73079533",
                "lon": "10.20736645",
                "nida": "8",
                "irada": "1",
                "jabha": "7",
                "itihad_madani": "1",
                "pour_kairouan": "1",
                "akhyar_el_tayar": "1",
                "tayar": "2",
                "ihyee_kairouan": "0"
            }, {
                "not_useful": "661",
                "f_p51": "716",
                "m_p51": "902",
                "f_36_50": "630",
                "m_36_50": "746",
                "f_25_35": "583",
                "m_25_35": "503",
                "f_22_24": "107",
                "m_22_24": "129",
                "f_18_21": "75",
                "m_18_21": "50",
                "sum": "4441",
                "polling": "م إبتدائية أولاد فرحان - حي الجامع الشمالي",
                "imeda": "الجامع الشمالية",
                "num_polling": "8",
                "number of registered": "4439",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.68250518",
                "lon": "10.10148089",
                "nida": "210",
                "irada": "120",
                "jabha": "47",
                "itihad_madani": "101",
                "pour_kairouan": "47",
                "akhyar_el_tayar": "26",
                "tayar": "81",
                "ihyee_kairouan": "87"
            }, {
                "not_useful": "17",
                "f_p51": "68",
                "m_p51": "98",
                "f_36_50": "79",
                "m_36_50": "82",
                "f_25_35": "95",
                "m_25_35": "70",
                "f_22_24": "12",
                "m_22_24": "11",
                "f_18_21": "10",
                "m_18_21": "6",
                "sum": "531",
                "polling": "م إبتدائية أولاد نهار",
                "imeda": "أولاد نهار",
                "num_polling": "1",
                "number of registered": "529",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.626770",
                "lon": "10.168449",
                "nida": "42",
                "irada": "1",
                "jabha": "17",
                "itihad_madani": "1",
                "pour_kairouan": "5",
                "akhyar_el_tayar": "2",
                "tayar": "1",
                "ihyee_kairouan": "9"
            }, {
                "not_useful": "99",
                "f_p51": "198",
                "m_p51": "224",
                "f_36_50": "216",
                "m_36_50": "184",
                "f_25_35": "173",
                "m_25_35": "128",
                "f_22_24": "36",
                "m_22_24": "41",
                "f_18_21": "20",
                "m_18_21": "14",
                "sum": "1234",
                "polling": "م إبتدائية حي السلام - المنصورة الشمالية",
                "imeda": "المنصورة الشمالية",
                "num_polling": "3",
                "number of registered": "1235",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.664138",
                "lon": "10.083243",
                "nida": "53",
                "irada": "22",
                "jabha": "8",
                "itihad_madani": "10",
                "pour_kairouan": "10",
                "akhyar_el_tayar": "7",
                "tayar": "21",
                "ihyee_kairouan": "12"
            }, {
                "not_useful": "377",
                "f_p51": "601",
                "m_p51": "716",
                "f_36_50": "511",
                "m_36_50": "570",
                "f_25_35": "531",
                "m_25_35": "498",
                "f_22_24": "88",
                "m_22_24": "122",
                "f_18_21": "35",
                "m_18_21": "34",
                "sum": "3706",
                "polling": "م إبتدائية حي النصر - المنصورة الشمالية",
                "imeda": "المنصورة الشمالية",
                "num_polling": "7",
                "number of registered": "3691",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.664138",
                "lon": "10.083243",
                "nida": "201",
                "irada": "96",
                "jabha": "37",
                "itihad_madani": "66",
                "pour_kairouan": "58",
                "akhyar_el_tayar": "10",
                "tayar": "88",
                "ihyee_kairouan": "78"
            }, {
                "not_useful": "73",
                "f_p51": "194",
                "m_p51": "246",
                "f_36_50": "193",
                "m_36_50": "200",
                "f_25_35": "191",
                "m_25_35": "130",
                "f_22_24": "35",
                "m_22_24": "39",
                "f_18_21": "18",
                "m_18_21": "6",
                "sum": "1252",
                "polling": "م إبتدائية حي النور - المنشية",
                "imeda": "المنشية",
                "num_polling": "3",
                "number of registered": "1247",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.67512692",
                "lon": "10.07454743",
                "nida": "65",
                "irada": "6",
                "jabha": "6",
                "itihad_madani": "12",
                "pour_kairouan": "2",
                "akhyar_el_tayar": "9",
                "tayar": "10",
                "ihyee_kairouan": "12"
            }, {
                "not_useful": "30",
                "f_p51": "145",
                "m_p51": "191",
                "f_36_50": "144",
                "m_36_50": "123",
                "f_25_35": "105",
                "m_25_35": "128",
                "f_22_24": "17",
                "m_22_24": "27",
                "f_18_21": "5",
                "m_18_21": "4",
                "sum": "889",
                "polling": "م إبتدائية دار الأمان - الجبلية الشمالية",
                "imeda": "الجبلية الشمالية",
                "num_polling": "2",
                "number of registered": "888",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.69375308",
                "lon": "10.08210304",
                "nida": "27",
                "irada": "30",
                "jabha": "8",
                "itihad_madani": "13",
                "pour_kairouan": "10",
                "akhyar_el_tayar": "22",
                "tayar": "7",
                "ihyee_kairouan": "13"
            }, {
                "not_useful": "11",
                "f_p51": "14",
                "m_p51": "52",
                "f_36_50": "23",
                "m_36_50": "48",
                "f_25_35": "21",
                "m_25_35": "28",
                "f_22_24": "7",
                "m_22_24": "5",
                "f_18_21": "4",
                "m_18_21": "1",
                "sum": "203",
                "polling": "م إبتدائية ذراع التمار",
                "imeda": "ذراع التمار",
                "num_polling": "1",
                "number of registered": "203",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.73682805",
                "lon": "10.10224555",
                "nida": "8",
                "irada": "2",
                "jabha": "1",
                "itihad_madani": "0",
                "pour_kairouan": "1",
                "akhyar_el_tayar": "1",
                "tayar": "2",
                "ihyee_kairouan": "0"
            }, {
                "not_useful": "324",
                "f_p51": "495",
                "m_p51": "525",
                "f_36_50": "464",
                "m_36_50": "418",
                "f_25_35": "304",
                "m_25_35": "268",
                "f_22_24": "54",
                "m_22_24": "53",
                "f_18_21": "28",
                "m_18_21": "46",
                "sum": "2655",
                "polling": "م إبتدائية صبرة - المنصورة الجنوبية",
                "imeda": "المنصورة الجنوبية",
                "num_polling": "5",
                "number of registered": "2639",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.658442",
                "lon": "10.091026",
                "nida": "147",
                "irada": "63",
                "jabha": "21",
                "itihad_madani": "63",
                "pour_kairouan": "32",
                "akhyar_el_tayar": "6",
                "tayar": "89",
                "ihyee_kairouan": "61"
            }, {
                "not_useful": "278",
                "f_p51": "423",
                "m_p51": "506",
                "f_36_50": "394",
                "m_36_50": "369",
                "f_25_35": "420",
                "m_25_35": "369",
                "f_22_24": "96",
                "m_22_24": "81",
                "f_18_21": "41",
                "m_18_21": "29",
                "sum": "2728",
                "polling": "م إبتدائية عقبة ابن نافع - الأغالبة",
                "imeda": "الأغالبة",
                "num_polling": "5",
                "number of registered": "2728",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.67153459",
                "lon": "10.08215451",
                "nida": "151",
                "irada": "58",
                "jabha": "39",
                "itihad_madani": "37",
                "pour_kairouan": "42",
                "akhyar_el_tayar": "9",
                "tayar": "74",
                "ihyee_kairouan": "60"
            }, {
                "not_useful": "61",
                "f_p51": "119",
                "m_p51": "218",
                "f_36_50": "141",
                "m_36_50": "200",
                "f_25_35": "94",
                "m_25_35": "111",
                "f_22_24": "20",
                "m_22_24": "18",
                "f_18_21": "11",
                "m_18_21": "11",
                "sum": "943",
                "polling": "م إبتدائية عين الخزازية",
                "imeda": "الخزازية",
                "num_polling": "2",
                "number of registered": "942",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.629713",
                "lon": "10.212207",
                "nida": "21",
                "irada": "5",
                "jabha": "13",
                "itihad_madani": "4",
                "pour_kairouan": "5",
                "akhyar_el_tayar": "10",
                "tayar": "7",
                "ihyee_kairouan": "17"
            }, {
                "not_useful": "413",
                "f_p51": "662",
                "m_p51": "810",
                "f_36_50": "590",
                "m_36_50": "679",
                "f_25_35": "453",
                "m_25_35": "393",
                "f_22_24": "84",
                "m_22_24": "68",
                "f_18_21": "31",
                "m_18_21": "30",
                "sum": "3800",
                "polling": "م إبتدائية غربي القيروان - الجبلية الشمالية",
                "imeda": "الجبلية الشمالية",
                "num_polling": "7",
                "number of registered": "3788",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.67931861",
                "lon": "10.09121633",
                "nida": "178",
                "irada": "61",
                "jabha": "51",
                "itihad_madani": "78",
                "pour_kairouan": "49",
                "akhyar_el_tayar": "8",
                "tayar": "80",
                "ihyee_kairouan": "45"
            }, {
                "not_useful": "8",
                "f_p51": "19",
                "m_p51": "44",
                "f_36_50": "21",
                "m_36_50": "48",
                "f_25_35": "27",
                "m_25_35": "38",
                "f_22_24": "7",
                "m_22_24": "7",
                "f_18_21": "4",
                "m_18_21": "2",
                "sum": "217",
                "polling": "م إبتدائية ماجل السعايدية - ذراع التمار",
                "imeda": "ذراع التمار",
                "num_polling": "1",
                "number of registered": "217",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.78591475",
                "lon": "10.07303718",
                "nida": "20",
                "irada": "1",
                "jabha": "2",
                "itihad_madani": "2",
                "pour_kairouan": "3",
                "akhyar_el_tayar": "0",
                "tayar": "0",
                "ihyee_kairouan": "0"
            }, {
                "not_useful": "65",
                "f_p51": "36",
                "m_p51": "57",
                "f_36_50": "47",
                "m_36_50": "69",
                "f_25_35": "27",
                "m_25_35": "46",
                "f_22_24": "11",
                "m_22_24": "7",
                "f_18_21": "2",
                "m_18_21": "1",
                "sum": "303",
                "polling": "م إبتدائية مرق الليل",
                "imeda": "مرق الليل",
                "num_polling": "1",
                "number of registered": "302",
                "mun": "القيروان",
                "gouv": "القيروان",
                "gouv_en": "Kairouan",
                "lat": "35.636369",
                "lon": "9.980212",
                "nida": "1",
                "irada": "1",
                "jabha": "0",
                "itihad_madani": "0",
                "pour_kairouan": "1",
                "akhyar_el_tayar": "0",
                "tayar": "0",
                "ihyee_kairouan": "23"
            }],
            "name": "kairouan_d_reg_data",
            "__v": 0
        }
    )


});


router.get('/resultsData', (req, res) => {
    let municipalityName = req.query.municipalityName;
    console.info("[REGISTRATION] getting results data for " + municipalityName);
    res.json(
        {
            "_id": "5c46d5c094706213cf5955a8",
            "data": [{
                "total_votes": "19746",
                "Type de liste (fr)": "Liste de coalition",
                "nom_liste_fr": "Union Civile",
                "nom_liste_ar": "الإتحاد المدني",
                "votes_obtenus": "1466",
                "porcentage_obtenus": "0.077978723",
                "sieges_obtenus": "3",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }, {
                "total_votes": "19746",
                "Type de liste (fr)": "Liste de coalition",
                "nom_liste_fr": "Front Populaire",
                "nom_liste_ar": "الجبھة الشعبیة",
                "votes_obtenus": "974",
                "porcentage_obtenus": "0.051808511",
                "sieges_obtenus": "2",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }, {
                "total_votes": "19746",
                "Type de liste (fr)": "Liste indépendante",
                "nom_liste_fr": "Akhyar Altayar",
                "nom_liste_ar": "أخیار التیار",
                "votes_obtenus": "426",
                "porcentage_obtenus": "0.022659574",
                "sieges_obtenus": "0",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }, {
                "total_votes": "19746",
                "Type de liste (fr)": "Liste indépendante",
                "nom_liste_fr": "Li'Ihya' Alkayrawan",
                "nom_liste_ar": "لإحیاء القیروان",
                "votes_obtenus": "1242",
                "porcentage_obtenus": "0.06606383",
                "sieges_obtenus": "2",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }, {
                "total_votes": "19746",
                "Type de liste (fr)": "Liste indépendante",
                "nom_liste_fr": "Min Ajl Alqayrawan",
                "nom_liste_ar": "من أجل القیروان",
                "votes_obtenus": "723",
                "porcentage_obtenus": "0.038457447",
                "sieges_obtenus": "1",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }, {
                "total_votes": "19746",
                "Type de liste (fr)": "Liste partisane",
                "nom_liste_fr": "Courant Démocrate",
                "nom_liste_ar": "التیار الدمقراطي",
                "votes_obtenus": "1555",
                "porcentage_obtenus": "0.082712766",
                "sieges_obtenus": "3",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }, {
                "total_votes": "19746",
                "Type de liste (fr)": "Liste partisane",
                "nom_liste_fr": "AL IRADA",
                "nom_liste_ar": "حراك تونس الارادة",
                "votes_obtenus": "1348",
                "porcentage_obtenus": "0.071702128",
                "sieges_obtenus": "3",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }, {
                "total_votes": "19746",
                "Type de liste (fr)": "Liste partisane",
                "nom_liste_fr": "Nidaa Tounes",
                "nom_liste_ar": "حركة نداء تونس",
                "votes_obtenus": "3504",
                "porcentage_obtenus": "0.186382979",
                "sieges_obtenus": "7",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }, {
                "total_votes": "19746",
                "Type de liste (fr)": "Liste partisane",
                "nom_liste_fr": "Ennahdha",
                "nom_liste_ar": "حزب حركة النھضة",
                "votes_obtenus": "7562",
                "porcentage_obtenus": "0.402234043",
                "sieges_obtenus": "15",
                "total_inscrits": "71387",
                "votes_nul": "636",
                "votes_blancs": "310",
                "total_votes_valide": "18800"
            }],
            "name": "kairouan_results per list",
            "__v": 0
        }
    )
});

router.get('/getDataByMunNameFr', (req, res) => {
    let municipalityName = req.query.municipalityName;
    registrationService.getDataByMunicipailityNameFr(municipalityName).then(result => {
        if (result.length>0) {
            res.json({
                status: 200,
                data: {
                    municipality: result[0]
                }
            });
        } else {
            res.status(404).json({
                status: 404,
                message: "Municipality Not Found"
            })
        }
    }).catch(err => {
        res.status(400).json({
            status: 400,
            message: err
        })
    })
});
module.exports = router;
